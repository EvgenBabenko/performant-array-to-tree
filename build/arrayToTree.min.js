"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(r){for(var e,t=1,a=arguments.length;t<a;t++)for(var n in e=arguments[t])Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var defaultConfig={id:"id",parentId:"parentId",dataField:"data",childrenField:"children",throwIfOrphans:!1};function arrayToTree(r,e){var t,a,n;void 0===e&&(e={});for(var i=__assign(__assign({},defaultConfig),e),o=[],s={},l=e.throwIfOrphans?new Set:null,d=0,h=r;d<h.length;d++){var p=h[d],c=p[i.id],f=p[i.parentId];Object.prototype.hasOwnProperty.call(s,c)||(s[c]=((t={})[i.childrenField]=[],t)),l&&l.delete(c),i.dataField?s[c][i.dataField]=p:s[c]=__assign(__assign({},p),((a={})[i.childrenField]=s[c][i.childrenField],a));var u=s[c];null==f||""===f?o.push(u):(Object.prototype.hasOwnProperty.call(s,f)||(s[f]=((n={})[i.childrenField]=[],n),l&&l.add(f)),s[f][i.childrenField].push(u))}if(null!==l&&void 0!==l&&l.size)throw new Error("The items array contains orphans that point to the following parentIds: ["+Array.from(l)+"]. These parentIds do not exist in the items array. Hint: prevent orphans to result in an error by passing the following option: { throwIfOrphans: false }");return o}exports.arrayToTree=arrayToTree;